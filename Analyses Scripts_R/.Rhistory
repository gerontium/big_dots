"9 10"="non10_10_repeat",
"9 9"="non10_10_repeat"))
summary(DAT1$DAT1_3UTR)
DAT1$DAT1_int8  <- plyr::revalue(DAT1$DAT1_Int8_VNTRraw ,
c("6 6"="6_6_repeat",
"5 6"="non6_6_repeat",
"5 5"="non6_6_repeat"))
summary(DAT1$DAT1_int8)
#### Merge the data sets together
data<-merge(DAT1, RT_index, c("ID"))
########### Overall leftward Bias?? ############
t.test (data$RT_index, mu=0)
## Remove outliers
data$RT_index.Z<-scale(data$RT_index)
data<-data[abs(data$RT_index.Z)<3,]
data<-data[complete.cases(data),]
ggplot2::ggplot(data, aes(RT_index))  +
geom_histogram(aes(y=..count..), colour="black", fill="white") +
facet_wrap(~ DAT1_3UTR)
ggplot2::ggplot(data, aes(RT_index, colour = DAT1_3UTR))  +
geom_density(alpha = 0.1)
ez::ezANOVA(
data = data
, dv = .(RT_index)
, wid = .(ID)
, between = .(DAT1_3UTR)
, type = 3
, detailed = F
, between_covariates= .("Site")
)
ez::ezPerm(
data = data
, dv = .(RT_index)
, wid = .(ID)
, between = .(DAT1_3UTR)
)
boot<-ez::ezBoot(
data = data
, dv = .(RT_index)
, wid = .(ID)
, between = .(DAT1_3UTR)
)
ez::ezPlot2(boot, x=DAT1_3UTR, y_lab = "RT asymmetry index")
t.test (data$RT_index[data$DAT1_3UTR=="non10_10_repeat"], mu=0)
t.test (data$RT_index[data$DAT1_3UTR=="10_10_repeat"], mu=0)
ggplot2::ggplot(data, aes(scale(RT_index)))  +
geom_histogram(aes(y=..count..), colour="black", fill="white") +
facet_wrap(~ DAT1_3UTR)
ggplot2::ggplot(data, aes(RT_index, colour = DAT1_3UTR))  +
geom_density(alpha = 0.1)
ez::ezANOVA(
data = data
, dv = .(RT_index)
, wid = .(ID)
, between = .(DAT1_3UTR)
, type = 3
, detailed = F
, between_covariates= .("Site")
)
summary(DAT1$DAT1_3UTR)
summary(data$DAT1_3UTR)
View(data)
View(DAT1)
data$RT_overall<-mean(data$RT_left, RT_right)
data$RT_overall<-mean(data$RT_left, data$RT_right)
data$RT_overall<-mean(data$RT_left + data$RT_right)/2
ez::ezANOVA(
data = data
, dv = .(RT_overall)
, wid = .(ID)
, between = .(DAT1_3UTR)
, type = 3
, detailed = F
, between_covariates= .("Site")
)
? mean
data$RT_overall<(-mean(data$RT_left + data$RT_right)/2)
data$RT_overall<-(mean(data$RT_left + data$RT_right)/2)
data$RT_overall<-(rowMeans(data$RT_left + data$RT_right)/2)
rowMeans(data$RT_left + data$RT_right)/2
? rowMeans
data$RT_overall<-rowMeans(data$RT_left + data$RT_right)
data$RT_overall<-rowMeans(c(data$RT_left + data$RT_right))
apply(rbind(data$RT_left,data$RT_right),2,mean)
(467.9143+458.4892)/2
data$RT_overall<-apply(rbind(data$RT_left,data$RT_right),2,mean)
ez::ezANOVA(
data = data
, dv = .(RT_overall)
, wid = .(ID)
, between = .(DAT1_3UTR)
, type = 3
, detailed = F
, between_covariates= .("Site")
)
boot<-ez::ezBoot(
data = data
, dv = .(RT_overall)
, wid = .(ID)
, between = .(DAT1_3UTR)
)
ez::ezPlot2(boot, x=DAT1_3UTR)
d.f <- data.frame(rating = c("AAA", "A", "A", "AAA",
"BB", "BB", "AAA", "A"))
i <- 1
by <- d.f$rating
sub.data.frame <- d.f[by == unique(by)[i], ]
View(d.f)
values <- data.frame(value = c("a", "a", "a", "a", "a",
"b", "b", "b",
"c", "c", "c", "c"))
nr.of.appearances <- aggregate(x = values,
by = list(unique.values = values$value),
FUN = length)
View(values)
View(nr.of.appearances)
View(d.f)
DAT1 <- read.csv("S:/R-MNHS-SPP/Bellgrove-data/4. Dan Newman/Participant Folders_new/DAT1genotypes_forR.csv", na.strings="")
RT_index <- read.csv("S:/R-MNHS-SPP/Bellgrove-data/4. Dan Newman/Participant Folders_new/RT_index_forR.csv", na.strings="")
t.test(RT_index$RT_left,RT_index$RT_right, paired=TRUE)
mean(RT_index$RT_left)
#Std error.
sd(RT_index$RT_left) / sqrt(length(RT_index$RT_left))
mean(RT_index$RT_left)
#Std error.
sd(RT_index$RT_left) / sqrt(length(RT_index$RT_left))
#Mean right targets
mean(RT_index$RT_right)
#Std error.
sd(RT_index$RT_left) / sqrt(length(RT_index$RT_left))
751-585
571-585
mean(RT_index$RT_left)
hist(RT_index$RT_right)
hist(RT_index$RT_left)
hist(RT_index$RT_right)
hist(RT_index$RT_left)
hist(RT_index$RT_right)
hist(log(RT_index$RT_right))
hist(log(RT_index$RT_left))
t.test(log(RT_index$RT_left),log(RT_index$RT_right), paired=TRUE)
t.test(log(RT_index$RT_left),log(RT_index$RT_right), paired=TRUE)
t.test(log(RT_index$RT_left),log(RT_index$RT_right), paired=TRUE)
mean(RT_index$RT_left)
sd(RT_index$RT_left) / sqrt(length(RT_index$RT_left))
DAT1 <- read.csv("S:/R-MNHS-SPP/Bellgrove-data/4. Dan Newman/Participant Folders_new/DAT1genotypes_forR.csv", na.strings="")
mean(RT_index$RT_right)
mean(RT_index$RT_right)
sd(RT_index$RT_left) / sqrt(length(RT_index$RT_left))
sd(RT_index$RT_right) / sqrt(length(RT_index$RT_right))
8*7
4372/56
59*60
2915/56
60*57
50*57
50*57
15*313.001781
4754.03-(15*313.001781)
9*400
5*400
5*400
9*400
30*60
1800/300
1800/10
180/60
30/1
9603+56336
9603+56336+8000
31.257/2
2050/3.8
540*3.8
2000-540
1460+540
10*31
31-29.67
1.33*10
1.4^2
(50-.07)/.07
(2.3-3)/3
37.5*8
1300/3.8
340*3.8
340*3.8
350*3.8
buy=2,125.88
buy=2125.88
sell1=618.30
sell2=1646.05
sell1+sell2
(sell1+sell2-buy)/(sell1+sell2)
(2264.35-2125.88)/2125.88
(2264.35-2165.88)/2125.88
(sell1+sell2-buy+40)/(sell1+sell2)
8*
sADF
8*3
24*50
24*50
900/.70
900/.71
900/.72
2558.37-20
(2558.37-20)/3.83
(2558.37-20)/3.82
(2558.37-20)/3.82
(2558.37-20)/3.81
1910*10
1099472*.035
.071*2
(3478.32-150)/48
69+79
398.25*12
# installing/loading the package:
if(!require(installr)) {
install.packages("installr"); require(installr)} #load / install+load installr
# using the package:
updateR() # this will start the updating process of your R installation.  It will check for newer versions, and if one is available, will guide you through the decisions you'd need to make.
q()
library(foreign)
library(car)
library(nlme)
library(ggplot2)
library(pastecs)
library(psych)
library(plyr)
library(multcomp)
library(reshape2)
library(compute.es)
library(ez)
library(lattice)
library(lme4)
library(png)
library(grid)
23063-378
packages <- c("haven", "readr ", "dplyr", "tidyr", "ggplot2")
sapply(packages, require, character.only = TRUE, quietly = TRUE)
packages <- c("haven", "dplyr", "tidyr", "ggplot2")
sapply(packages, require, character.only = TRUE, quietly = TRUE)
? readr
?? readr
? sapply
.35*.35
library(dplyr)
x <- 1:50
case_when(
x %% 35 == 0 ~ "fizz buzz",
x %% 5 == 0 ~ "fizz",
x %% 7 == 0 ~ "buzz",
TRUE ~ as.character(x)
)
x
x
x <- 1:50
case_when(
x %% 35 == 0 ~ "fizz buzz",
x %% 5 == 0 ~ "fizz",
x %% 7 == 0 ~ "buzz",
TRUE ~ as.character(x)
)
library(gganimate)
? gg_animate
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
library(ggplot2)
library(gapminder)
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
install.packages("gapminder")
library(ggplot2)
library(gapminder)
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
p
gg_animate(p)
install.packages("gganimate")
install.packages("gganimate")
library(gapminder)
library(ggplot2)
theme_set(theme_bw())
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
library(gganimate)
gg_animate(p)
install.packages("animation")
install.packages("animation")
library(gapminder)
library(ggplot2)
theme_set(theme_bw())
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
library(gganimate)
gg_animate(p)
library(animation)
library(gganimate)
library(gapminder)
library(ggplot2)
theme_set(theme_bw())
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
library(gganimate)
gg_animate(p)
devtools::install_github("dgrtwo/gganimate")
devtools::install_github("dgrtwo/gganimate", force=T)
library(gapminder)
library(ggplot2)
theme_set(theme_bw())
p <- ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, color = continent, frame = year)) +
geom_point() +
scale_x_log10()
p
library(gganimate)
gg_animate(p)
install.packages("ImageMagick")
library(gganimate)
gg_animate(p)
14000+72481
7*7
####Which computer/directory is this being run on?
location<-"Monash"
# location<-"GersLaptop"
if (location=="Monash") {
setwd(("C:/GitHub/big_dots/Analyses Scripts_R"))
} else if (location=="GersLaptop") {
setwd(("C:/Users/loughnge/Documents/GitHub/big_dots/Analyses Scripts_R"))
} else setwd(("~"))
####################################
#######  How to use ################
####################################
# 1) Install the packages and software specified below. (consider also updating all installed packages by chosing Update on the Packages tab)
# 2) Set the working directory (setwd) above, and directory where you have "data_ParticipantLevel", "master_matrix_R" and "ID_vector" saved
# 3) Hit Knit Word (or Knit HTML)! (Output can take while due to bootstrapping the robust effect size and calculating the Bayesian Highest Density Iinterval)
####################################
######  FIRST TIME ONLY ############
####################################
#Remove # in front of the line below and run the code. Replace the # after installing the packages, otherwise the R markdown script will give errors.
# install.packages(c("MASS", "akima", "robustbase", "cobs", "robust", "mgcv", "scatterplot3d", "quantreg", "rrcov", "lars", "pwr", "trimcluster", "mc2d", "psych", "Rfit","MBESS", "BayesFactor", "PoweR", "ggplot2", "reshape2", "plyr", "devtools", "rmarkdown","gmodels", "HLMdiag", "car", "gridExtra", "bootES", "BEST","foreign","nlme","pastecs","multcomp","compute.es","ez","lattice","lme4","effects","diagram","png", "grid", "dplyr","readxl", "openxlsx", "haven","schoRsch", "lubridate"))
###################################################################################################################################
## load relevant libraries
library(foreign)
library(car)
library(nlme)
library(ggplot2)
library(pastecs)
library(psych)
library(multcomp)
library(compute.es)
library(ez)
library(lme4)
library(png)
library(grid)
library(readxl)
library(dplyr)
library(tidyr)
library(lubridate)
install.packages("lubridate")
library(lubridate)
if (location=="Monash") {
data <- read.csv("C:/GitHub/big_dots/master_matrix_R_BigDots.csv", header=FALSE)
} else if (location=="GersLaptop") {
data <- read.csv("C:/Users/Dan/Documents/GitHub/big_dots/master_matrix_R_BigDots.csv", header=FALSE)
} else setwd(("~"))
#Import IDs:
if (location=="Monash") {
ID <- read.table("C:/GitHub/big_dots/ID_vector_BigDots.csv", quote="\"")
} else if (location=="GersLaptop") {
ID <- read.table("C:/Users/Dan/Documents/GitHub/big_dots/ID_vector_BigDots.csv", quote="\"")
} else setwd(("~"))
data$ID<-data[,1]
#Replace the participant numbers with IDs:
data[,1]<-ID[,1]
#Remove the seperate ID vector now it has been included into data dataframe
rm(ID)
drops <- c("ID")
data<-data[,!(names(data) %in% drops)]
###Read in SLF data from the SPSS file Tim Sent
SLF<-haven::read_sav("SLF_metrics_290616.sav")
DARIS_ID<-read_excel("DARIS_ID.xlsx")
SLF<-merge(SLF, DARIS_ID, by.x = "DARIS", by.y = "DARIS")
ID_Order <- read_excel("ID_Order_for_Matlab.xlsx")
SLF<-merge(SLF, ID_Order, by.x = "ID", by.y = "ID", all=T)
SLF<-dplyr::arrange(SLF, Order)
# xlsx::write.xlsx(SLF, "SLF.xlsx", row.names=F)
###Read in Participant Demographics
Demographics<-read_excel("Participant_Demographics.xlsx")
#Calculate Age (Date of Testing min)
? interval
interval(ymd(Demographics$Date_Of_Birth)-ymd(Demographics$Date_Of_Testing), unit = "year")
interval(ymd(Demographics$Date_Of_Birth)-ymd(Demographics$Date_Of_Testing))
interval(ymd(Demographics$Date_Of_Birth), ymd(Demographics$Date_Of_Testing))
interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing)
class(interval(ymd(Demographics$Date_Of_Birth), ymd(Demographics$Date_Of_Testing)))
class(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
as.period(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing), unit="years")
as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
class(as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing)))
class(as.period(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing)))
years(as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing)))
? years
interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing)
as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
as.duration((Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
as.duration(interval(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% mutate(Age=as.duration(interval(Date_Of_Birth, Date_Of_Testing)))
glimpse(Demographics)
year(Demographics$Age)
years(Demographics$Age)
as.years(Demographics$Age)
Demographics$Age
Demographics$Age[1]
50/Demographics$Age[1]
Demographics$Age[1]
as.numeric(Demographics$Age[1])
as.numeric(Demographics$Age[1])/365
as.numeric(Demographics$Age[1])/(365*24*60*60)
age <- function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
age <- function(from, to) {
from_lt = as.POSIXlt(from)
to_lt = as.POSIXlt(to)
age = to_lt$year - from_lt$year
ifelse(to_lt$mon < from_lt$mon |
(to_lt$mon == from_lt$mon & to_lt$mday < from_lt$mday),
age - 1, age)
}
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=age((Date_Of_Birth, Date_Of_Testing)))
mutate(Age=age(Date_Of_Birth, Date_Of_Testing))
mutate(Age=age(.,Date_Of_Birth, Date_Of_Testing))
mutate(Age=age(., .Date_Of_Birth, .Date_Of_Testing))
? Age
Demographics$Age<-age(Demographics$Date_Of_Birth, Demographics$Date_Of_Testing)
Demographics$Age
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.duration(interval(Date_Of_Birth, Date_Of_Testing)))
Demographics$Age
as.duration(10)
? time_length
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=time_length(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
int <- interval(ymd("1980-01-01"), ymd("2014-09-18"))
time_length(int, "week")
time_length(int, "year")
time_length(int, "years")
int <- interval(ymd("1900-01-01"), ymd("1999-12-31"))
time_length(int, "year")
time_length(as.duration(int), "year")
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=time_length(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=timespan(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
? timespan
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=timespan(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
library(lubridate)
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=timespan(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=time_length(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=time_length(interval(Date_Of_Birth, Date_Of_Testing), unit="years"), na.omit)
interval
? interval
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.period(interval(Date_Of_Birth, Date_Of_Testing), "years"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.period(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
? difftime
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.period(interval(Date_Of_Birth, Date_Of_Testing), unit="years"))
as.Date.numeric(Demographics$Age)
Demographics$Age[1]
as.numeric(Demographics$Age[1])
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.period(interval(Date_Of_Birth, Date_Of_Testing), units="years"))
mutate(Age=difftime(Date_Of_Birth, Date_Of_Testing), units="years"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=difftime(Date_Of_Birth, Date_Of_Testing, units="years"))
class(Demographics$Date_Of_Birth)
? difftime
? as.Date()
? round_date
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.period(interval(Date_Of_Birth, Date_Of_Testing), units="years"))
? round_date
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Date_Of_Birth=round_date(Date_Of_Birth), unit="year")
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Date_Of_Birth=round_date(Date_Of_Birth unit="year"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Date_Of_Birth=round_date(Date_Of_Birth, unit="year"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Date_Of_Birth=round_date(Date_Of_Birth, unit="year"), Date_Of_Testing=round_date(Date_Of_Testing, unit="year"))
Demographics<-read_excel("Participant_Demographics.xlsx") %>% #then calculate Age at testing date:
mutate(Age=as.period(interval(Date_Of_Birth, Date_Of_Testing), units="years"))
mean(Demographics$Age)
mean(Demographics$Age, na.omit)
