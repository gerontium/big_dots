clear
close all
clc

% path_temp = 'S:\R-MNHS-SPP\Bellgrove-data\4. Dan Newman\Participant Folders_new\'; %Monash PC
path_temp = 'D:\Participant Folders_new\'; %TCD Laptop

subject_folder = {'LK_07_04_14','AR_08_04_14','MH_14_04_14','AA_15_04_14','NT_16_04_14', ...
    'OF_28_04_14','RO_25_04_14','PR_20_04_14','AS_23_04_14','OM_07_05_14', ...
    'RM_06_05_14','SB_08_05_14','GW_09_05_14','OS_09_05_14','AC_13_05_14', ...
    'ND_16_05_14','SF_20_05_14','TL_23_05_14','JC_23_05_14','EL_24_05_14', ... % 20
    'SH_25_05_14','059M_HP','093M_BR','036M_JK','221M_SJ', ...
    '068M_CB','301M_MO','118M_CS','265M_EZ','291M_KS', ... % 30
    '106M_NH','302M_BS','289M_AS','303M_SA','103M_JK', ...
    '314M_LK','226M_SM','037M_JD','338M_SC','091M_SW', ...
    '134M_JM','331M_CL','108M_CY','191M_DM','243M_JB', ...
    '136M_JC','339M_YV','353M_AT','352M_MK','061M_LG', ...
    '235M_JM','374M_PP','325M_KR','279M_FT','114M_CS','378M_MG', ...
    '133M_DC','392M_PH','186M_AF','404M_RO','147M_EB','400M_ED','398M_LO', ...
    '384M_PD','205M_LE','328M_EW','418M_AM','189M_WM','203M_VF','234M_SW',...
    '220M_NB','377M_BL','427M_SS','414M_LA','458M_AH','439M_TM',...
    '484M_AI','453M_LB','422M_MK','323M_CZ'};
allsubj = {'LK','AR','MH','AA','NT','OF','RO','PR','AS','OM', ...
    'RM','SB','GW','OS','AC','ND','SF','TL','JC','EL', ...
    'SH','HP1M','BR2M','JK3M','SJ4M','CB5M','MO6M','CS7M','EZ8M','KS9M', ...
    'NH10M','BS11M','AS12M','SA13M','JK14M','LK15M','SM16M','JD17M','SC18M','SW19M', ...
    'JM20M','CL21M','CY22M','DM24M','JB25M','JC26M','YV27M','AT28M','MK29M','LG30M', ...
    'JM31M','PP32M','KR33M','FT34M','CS35M','MG36M','DC37M','PH38M','AF39M','RO40M', ...
    'EB41M','ED42M','LO43M','PD44M','LE45M','EW46M','AM47M', 'WM48M','VF49M','SW50M',...
    'NB52M','BL53M','SS54M','LA55M','AH56M','TM57M','AI58M','LB59M','MK60M','CZ61M'};

TCD_bigdots = {'LK_07_04_14','AR_08_04_14','MH_14_04_14','AA_15_04_14','NT_16_04_14', ...
    'OF_28_04_14','RO_25_04_14','PR_20_04_14','AS_23_04_14','OM_07_05_14', ...
    'RM_06_05_14','SB_08_05_14','GW_09_05_14','OS_09_05_14','AC_13_05_14', ...
    'ND_16_05_14','SF_20_05_14','TL_23_05_14','JC_23_05_14','EL_24_05_14', ...
    'SH_25_05_14'};
Monash_bigdots = {'059M_HP','093M_BR','036M_JK','221M_SJ','068M_CB', ...
    '118M_CS','265M_EZ','301M_MO','291M_KS','106M_NH', ...
    '302M_BS','289M_AS','303M_SA','103M_JK','314M_LK', ...
    '226M_SM','037M_JD','338M_SC','091M_SW','134M_JM', ...
    '331M_CL','108M_CY','191M_DM','243M_JB','136M_JC', ...
    '339M_YV','353M_AT','352M_MK','061M_LG','235M_JM', ...
    '374M_PP','325M_KR','279M_FT','114M_CS','378M_MG','133M_DC', ...
    '392M_PH','186M_AF','404M_RO','147M_EB','400M_ED','398M_LO', ...
    '384M_PD','205M_LE','328M_EW','418M_AM','189M_WM','203M_VF','234M_SW',...
    '220M_NB','377M_BL','427M_SS','414M_LA','458M_AH','439M_TM',...
    '484M_AI','453M_LB','422M_MK','323M_CZ'};

duds = [];
single_participants = [];

blocks = {[1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] ...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:15] [1:16] [1:16] [1:16] ...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] ...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] ...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] ...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16]...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16]...
    [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16] [1:16]};

if ~isempty(duds) && isempty(single_participants)
    subject_folder([duds]) = [];
    allsubj([duds]) = [];
    blocks([duds]) = [];
end

if ~isempty(single_participants)
    subject_folder = subject_folder(single_participants);
    allsubj = allsubj(single_participants);
    blocks = blocks(single_participants);
end

cc=1;
for s = 1:length(allsubj)
    disp(allsubj{s})
    bdf_exist_TCD=[]; edf_exist_TCD=[]; mat_exist_TCD=[];
    eeg_exist_Monash=[]; vmrk_exist_Monash=[]; vhdr_exist_Monash=[]; edf_exist_Monash=[]; mat_exist_Monash=[];
    if ismember(subject_folder{s},TCD_bigdots)
        for bb = 1:16
            % check bdfs
            filename = [path_temp subject_folder{s} '\' allsubj{s} '_' num2str(bb) '.bdf'];
            if exist(filename,'file')==2, bdf_exist_TCD(bb) = 1; else, bdf_exist_TCD(bb) = 2; end
            % check edfs
            filename = [path_temp subject_folder{s} '\' allsubj{s} '_' num2str(bb) '.edf'];
            if exist(filename,'file')==2, edf_exist_TCD(bb) = 1; else, edf_exist_TCD(bb) = 2; end
            % check mats
            filename = [path_temp subject_folder{s} '\' allsubj{s} '_' num2str(bb) '.mat'];
            if exist(filename,'file')==2, mat_exist_TCD(bb) = 1; else, mat_exist_TCD(bb) = 2; end
        end
        if ~isempty(find(bdf_exist_TCD==2)) | ~isempty(find(edf_exist_TCD==2)) | ~isempty(find(mat_exist_TCD==2))
            dodgy_subj(cc) = s;
            cc=cc+1;
        end
    else
        for bb = 1:16
            % check eeg
            filename = [path_temp subject_folder{s} '\' allsubj{s} num2str(bb) '.eeg'];
            if exist(filename,'file')==2, eeg_exist_Monash(bb) = 1; else, eeg_exist_Monash(bb) = 2; end
            % check eeg
            filename = [path_temp subject_folder{s} '\' allsubj{s} num2str(bb) '.vmrk'];
            if exist(filename,'file')==2, vmrk_exist_Monash(bb) = 1; else, vmrk_exist_Monash(bb) = 2; end
            % check eeg
            filename = [path_temp subject_folder{s} '\' allsubj{s} num2str(bb) '.vhdr'];
            if exist(filename,'file')==2, vhdr_exist_Monash(bb) = 1; else, vhdr_exist_Monash(bb) = 2; end
            % check edfs
            filename = [path_temp subject_folder{s} '\' allsubj{s} num2str(bb) '.edf'];
            if exist(filename,'file')==2, edf_exist_Monash(bb) = 1; else, edf_exist_Monash(bb) = 2; end
            % check mats
            filename = [path_temp subject_folder{s} '\' allsubj{s} num2str(bb) '.mat'];
            if exist(filename,'file')==2, mat_exist_Monash(bb) = 1; else, mat_exist_Monash(bb) = 2; end
        end
        if ~isempty(find(eeg_exist_Monash==2)) | ~isempty(find(vmrk_exist_Monash==2)) | ~isempty(find(vhdr_exist_Monash==2)) | ...
                ~isempty(find(edf_exist_Monash==2)) | ~isempty(find(mat_exist_Monash==2))
            dodgy_subj(cc) = s;
            cc=cc+1;
        end
    end
end
